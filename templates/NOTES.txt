EdgeQuota has been deployed successfully!

Release: {{ .Release.Name }}
Namespace: {{ .Release.Namespace }}

{{- if .Values.ingress.enabled }}

Ingress is enabled. Access EdgeQuota at:
{{- range $host := .Values.ingress.hosts }}
  {{- range .paths }}
  http{{ if $.Values.ingress.tls }}s{{ end }}://{{ $host.host }}{{ .path }}
  {{- end }}
{{- end }}
{{- else }}

To access EdgeQuota proxy, run:
  kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "edgequota.fullname" . }} 8080:{{ include "edgequota.servicePort" . }}

{{- end }}

Admin endpoint ({{ include "edgequota.fullname" . }}-admin service, always ClusterIP):
  kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "edgequota.fullname" . }}-admin {{ include "edgequota.adminPort" . }}:{{ include "edgequota.adminPort" . }}

  Health:    http://localhost:{{ include "edgequota.adminPort" . }}/healthz
  Ready:     http://localhost:{{ include "edgequota.adminPort" . }}/readyz
  Metrics:   http://localhost:{{ include "edgequota.adminPort" . }}/metrics
  Config:    http://localhost:{{ include "edgequota.adminPort" . }}/v1/config
{{- if .Values.edgequota.cache.enabled }}

Cache is enabled. Purge entries via the admin API:
  Purge by URL:  POST http://localhost:{{ include "edgequota.adminPort" . }}/v1/cache/purge
                 Body: {"url":"/path/to/resource","method":"GET"}
  Purge by tag:  POST http://localhost:{{ include "edgequota.adminPort" . }}/v1/cache/purge/tags
                 Body: {"tags":["surrogate-key-1","surrogate-key-2"]}
{{- end }}

{{- if .Values.autoscaling.enabled }}

HPA is enabled ({{ .Values.autoscaling.minReplicas }}-{{ .Values.autoscaling.maxReplicas }} replicas).
{{- else }}

Running {{ .Values.replicaCount }} replica(s). Consider enabling HPA for production.
{{- end }}

{{- if not .Values.secrets.create }}
{{- if not .Values.secrets.existingSecret }}

WARNING: No Redis secret configured. Set secrets.create=true with credentials,
         or point secrets.existingSecret to a pre-existing Secret.
{{- end }}
{{- end }}
