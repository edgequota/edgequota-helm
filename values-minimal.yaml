# =============================================================================
# EdgeQuota — Minimal Values
# =============================================================================
# Bare-minimum configuration to get EdgeQuota running.
# Suitable for development, local testing, or non-critical environments.
#
# Prerequisites:
#   - A Redis instance reachable at the configured endpoint.
#
# Usage:
#   helm install edgequota ./edgequota-helm -f values-minimal.yaml
# =============================================================================

replicaCount: 1

edgequota:
  backend:
    url: "http://my-backend-service:8080"

  redis:
    endpoints:
      - "redis:6379"
    mode: "single"

  rateLimit:
    average: 100
    burst: 20
    period: "1s"

  # -- Uncomment to enable a dedicated cache Redis instance
  # cacheRedis:
  #   enabled: true
  #   endpoints:
  #     - "cache-redis:6379"
  #   mode: "single"

  # -- Uncomment to enable external auth
  # auth:
  #   enabled: true
  #   timeout: "5s"
  #   http:
  #     url: "http://auth-service:8080/check"

  # -- Uncomment to enable external rate-limit service
  # rateLimit:
  #   external:
  #     enabled: true
  #     http:
  #       url: "http://rl-service:8080/limits"

  # -- Uncomment to enable usage event emission
  # events:
  #   enabled: true
  #   http:
  #     url: "http://events-service:8080/publish"

# Redis password — for production, use secrets.existingSecret instead
secrets:
  create: true
  redisPassword: "changeme"
